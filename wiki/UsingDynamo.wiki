#summary Tutorial to use Dynamo to build a database Ada application

This article explains how to use Dynamo to quickly setup a new Ada
project, design the data model of the application, generate the Ada
model files, build the database and use the Ada Database Objects
library to populate the database using the data model.

The article assumes that you have installed Dynamo, the ArgoUML
application.

== Setting up ArgoUML to use Dynamo UML profiles ==

Before anything, you should setup ArgoUML to use the Dynamo UML
profile.  This step must be done only once for your ArgoUML application.
Dynamo provides a UML profile which contains stereotypes and data types
that are used for the data modeling of your database.  It is necessary
to tell ArgoUML where the Dynamo UML profile is located.

To know where the Dynamo UML profile is installed, run the following
command:

{{{
dynamo -v
}}}

After starting ArgoUML, go in *Settings* => *Profiles* and add
the UML directory in the list of directories that ArgoUML looks for the UML profiles.  These steps are described in the following video:

<wiki:video url="http://www.youtube.com/watch?v=M25eAm3Mly8"/>

== Creating an Ada database application using Dynamo and Eclipse ==

Dynamo contains a *create-project* command that you can use to
quickly setup a new Ada project.  Two project templates are defined:

  * An ADO template intended to be used for general purpose database applications.
  * An Ada Web Application template targeted as a more complete application with database access and web pages. 

This article focuses on the Ada database application template.
To use the *create-project* command, you will have to give a project name.  It will be used as the main Ada package name.  You should also specify you name or email address so that file headers are customized accordingly.  You may also choose the license you want to use for the project.

The command to generate the demo application presented in the video is:

{{{
dynamo create-project --ado demo Iorek.Byrnison@svalbard.com
}}}

<wiki:video url="http://www.youtube.com/watch?v=MvMUl1QGvB4"/>

== Database Modeling with ArgoUML for Ada applications ==

The database modeling support of Dynamo allows you to design your
data model by using an UML tool such are ArgoUML and let Dynamo build
the Ada packages that correspond to your UML model.  The Ada generated files should not be modified, they are generated in a separate directory (`src/model`) to reduce confusion.

  * The data model should be put in a specific package, preferably child of the some application package.  The package must be assigned the *DataModel* stereotype (defined in the Dynamo UML profile).  The stereotype controls the activation of the Ada code generation for UML classes defined in the package.
  * A database table is represented by a UML class that is assigned the *Table* stereotype.
  * Table columns are represented by UML class attributes or some types of associations.  The primary key attribute should be associated with the *PK* (PrimaryKey) stereotype.

Once the UML model is created and saved, the Dynamo *generate* command can be used.  It should be executed each time the UML model is modified.
It will generate the Ada model files as well as the SQL schema files.
The tool is able to read ArgoUML files directly.

{{{
dynamo generate db demo.zargo
}}}


The video below describes all these steps through the design of
a simple question and answer UML model.

<wiki:video url="http://www.youtube.com/watch?v=5q542_gVDd0"/>

== Using the Ada and database model generated by Dynamo ==

<wiki:video url="http://www.youtube.com/watch?v=a8V9Om438wA"/>