#summary Dynamo Command


== NAME ==

dynamo - Ada Web Application Generator

== SYNOPSIS ==

*dynamo* [ -o
_directory _ ] [ -t
_templates _ ] [ -c
_config-dir _ ]
_command _ 

== DESCRIPTION ==

_dynamo_ is a command to help developers write an Ada Web Application using the
*ASF* framework.  _dynamo_ provides several commands to perform one specific task in
the development process.

First the
*create-project* command will be used to initiate a new project.  The project name is used at this stage
to configure the name of the root Ada package for the application.

The
*add-model* command will be used to create a database table mapping file.  The database mapping file
describes how to map a database table into an Ada record type for the
*ADO* framework.  The
*generate* command is then used to build the Ada model files from the database mapping files.

The
*add-page* command is then used to add web pages for the application.  When a new application
layout is necessary, the
*add-layout* command can be used.

== OPTIONS ==

The following options are recognized by _dynamo_:

-o directory

Specifies the directory where result files are created.  The default is the current directory.

-c directory

Specifies the configuration directory which contains _dynamo_ configuration
files as well as template files.

-t directory

Specifies the templates directory.  This option can be used to override the
templates provided by _dynamo_.

== COMMANDS ==


=== The create-project command ===
{{{
dynamo *create-project _name_*
}}}

Create a new project in the current working directory or in the
directory specified by the
_-o _ option.  The project name should be a valid Ada identifier.  It represents the Ada root
package name for the project.  The command creates a set of Ada files, a configure script,
a Makefile as well as a
_gnatmake _ build file.  The application can be immediately compiled to obtain a web server that is ready
to run.

=== The create-database command ===
{{{
dynamo *create-database _connection admin-user [admin-password]_*
}}}

The create-database command creates the database used by the application.
The database connection string is of the form: 
{{{
_driver_://_host_:_port_/_database_
}}}

The command will connect to the database server specified by the connection string.
It will use the admin user for this connection. The database is created if it does
not yet exist. If a user is specified in the connection string, a grant command is
issued to create that user and allow him to access the new database.

=== The add-layout command ===
{{{
dynamo *add-layout _name_*
}}}

Create a new XHTML layout file.  The layout file is an XHTML facelet template which can
be used by a web page to provide a common presentation layout.  When the project is
created, at least one layout is proposed.  By adding a new layout, the application
can provide different presentation styles.  The layout files are stored in the
*web/WEB-INF/layouts* directory.

=== The add-page command ===
{{{
dynamo *add-page _name_*
}}}

Create a new presentation page.  The presentation page is an XHTML facelet file
which contains HTML code as well as ASF facelet components.  The presentation
pages are stored in the
*web* directory.

=== The add-model command ===
{{{
dynamo *add-model [_module_] _name_*
}}}

Create a new database table model mapping.  The model mapping is an XML file that
describes how to map a database table into an Ada type.
The model mappings are stored in the
*db* directory.  The database table is mapped to an Ada tagged record in the package
*_project-name_*._module_.Model\fR if a module name is passed otherwise the package
will have the name *_project-name_.Model*.  The Ada record will have the name
*_name__Ref*.

=== The help command ===
{{{
dynamo *help _name_*
}}}

Give an help description about a command.

=== The generate command ===
{{{
dynamo *generate [_model ... _]*
}}}

Generate the Ada model implementation from the XML model mappings.
The Ada model files are generated in the
*src/model* directory.  Developers should not modify those files by themselves.
When no file is specified, the
*generate* command will read all the XML files stored in the
*db* directory.  It will generate all the models found in those files.

=== The propset command ===
{{{
dynamo *propset _name value_*
}}}

Set a project property to configure some commands provided by
*dynamo*.  The property is composed of a name and a value.  It is saved in
the *dynamo.xml* file.

== SEE ALSO ==

_gnatmake(1)_, _gcc(1)_

== COPYRIGHT ==

Copyright 2011 by Stephane Carrez.


= Introduction =

*dynamo* is the command that provides generation facilities for an Ada project.
It integrates various commands that represent a specific generation model.
The general syntax is the following:

{{{
dynamo {command} {options}
}}}
